# Configuration for genmon setup

# Name of the big-bear-genmon application
name: big-bear-genmon
# Service definitions for the big-bear-genmon application
services:
  # Service name: big-bear-genmon
  # The `big-bear-genmon` service definition
  big-bear-genmon:
    # Name of the container
    container_name: big-bear-genmon
    # Image to be used for the container
    image: bigbeartechworld/big-bear-genmon:1.19.06
    # Environment variables to set inside the container
    environment:
      - TZ=America/Chicago # Set the timezone to 'America/Chicago'
    # Ports to expose, mapping the host port to the container port
    ports:
      - "20022:22" # Map TCP port 22 in the container to port 20022 on the host
      - "38443:443" # Map TCP port 443 in the container to port 38443 on the host
      - "8000:8000" # Map TCP port 8000 in the container to port 8000 on the host
    # Define the restart policy for the service container
    restart: unless-stopped # Restart the container unless it is explicitly stopped
    # Mount host paths or named volumes into the container
    volumes:
      - ${APP_DATA_DIR}/git_genmon:/git/genmon # Mount a named volume 'big_bear_genmon_data' to store data persistently at /git/genmon in the container (this is the default location)
      - ${APP_DATA_DIR}/etc_genmon:/etc/genmon # Mount a named volume 'big_bear_genmon_config' to store configuration files persistently at /etc/genmon in the container
      - ${APP_DATA_DIR}/var_log:/var/log # Mount a named volume 'big_bear_genmon_logs' to store logs persistently at /var/log in the container
  app_proxy:
    environment:
      APP_HOST: big-bear-umbrel-genmon_big-bear-genmon_1
      APP_PORT: "20022"
